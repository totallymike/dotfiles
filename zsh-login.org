#+TITLE: Zsh Login file
#+AUTHOR: Michael Westbom
#+EMAIL: michael@westbom.co

This stuff all happens post-[[file:zsh-rc.org][zshrc]]

Execute code that does not affect the current session in the background.

* Compile the completion dump to increase the startup speed.

  #+BEGIN_SRC sh
    {
      zcompdump="${HOME}/.zcompdump"
      if [[ -s "$zcompdump" && (! -s "${zcompdump}.zwc" || "$zcompdump" -nt "${zcompdump}.zwc") ]]; then
        zcompile "$zcompdump"
      fi
    } &!
  #+END_SRC

* Fortune

  Print a random, hopefully interesting, adage.

  #+BEGIN_SRC sh
    if (( $+commands[fortune] )); then
      if [[ -t 0 || -t 1 ]]; then
        fortune -s
      fi
    fi
  #+END_SRC

* Technical junk

  The following are the tangled settings. Type =C-c C-v t= to create
  the script file.

#+PROPERTY: tangle ~/.zlogin
#+PROPERTY: comments both
#+PROPERTY: shebang #!/usr/local/bin/zsh
#+DESCRIPTION: Basic config for zsh
